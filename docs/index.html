<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Nim Widgets</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="description" content="Nim Widgets" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="https://unpkg.com/docute@4/dist/docute.css">
  <link rel="stylesheet" href="./styles.css" />

  <script type="module"
    src="https://cdn.jsdelivr.net/npm/nim-widgets@0.2.1/dist/nim-widgets/nim-widgets.esm.js"></script>
  <script nomodule="" src="https://cdn.jsdelivr.net/npm/nim-widgets@0.2.1/dist/nim-widgets/nim-widgets.js"></script>
</head>

<body>
  <div id="docs"></div>
  <script src="https://unpkg.com/docute@4/dist/docute.js"></script>
  <script>
    new Docute({
      target: '#docs',
      layout: 'narrow',
      nav: [
        {
          title: 'Github',
          link: 'https://github.com/lunanimous/nim-widgets',
          openInNewTab: true,
        }
      ],
      sidebar: [
        {
          title: 'Introduction',
          link: '/',
        },
        {
          title: 'Customize',
          link: '/customize'
        },
        {
          title: 'Components',
          collapsable: false,
          children: [
            {
              title: 'nim-donate',
              link: '/donate',
            },
            {
              title: 'nim-checkout',
              link: '/checkout'
            }
          ]
        },
      ]
    })

    Vue.component('donate-configurator', {
      data: function () {
        return {
          colors: ['neutral', 'blue', 'gold', 'light-blue', 'green', 'orange', 'red'],
          form: {
            color: 'neutral',
            recipient: ''
          },
        }
      },
      computed: {
        code: function () {
          return `<nim-donate \n  theme="${this.form.color}"\n  recipient="${this.form.recipient}"\n></nim-donate>`;
        }
      },
      methods: {
        updateColor: function (color) {
          this.form.color = color;
        },
        updateRecipient: function (event) {
          this.form.recipient = event.target.value;
        }
      },
      template: `
        <div class="configurator">
          <form>
            <section>
            <label for="color">Select the color</label>
            <div class="colors">
              <button
                type="button"
                v-for="color in colors"
                :class="[color, color === form.color ? 'focused' : '']"
                @click="updateColor(color)"
              ></button>
            </div>
            </section>

            <section>
              <label for="address" type="address">Enter NIM address</label>
              <input v-on:input="updateRecipient" :value="form.recipient" type="text" id="address" name="address" placeholder="NQ..."/>
            </section>
          </form>

          <section>
            <h3>Preview</h3>
            <div class="preview">
              <nim-donate :theme="form.color" :recipient="form.recipient"></nim-donate>
            </div>
          </section>

          <section class="code">
            <label>Get the code</label>
            <div class="code-wrapper">
              <code>{{code}}</code>
            </div>

          </section>

        </div>
      `
    });

    Vue.component('checkout-configurator', {
      data: function () {
        return {
          colors: ['neutral', 'blue', 'gold', 'light-blue', 'green', 'orange', 'red'],
          form: {
            color: 'neutral',
            recipient: '',
            amount: 0,
            app: ''
          },
        }
      },
      computed: {
        code: function () {
          return `<nim-checkout \n  theme="${this.form.color}"\n  recipient="${this.form.recipient}"\n  app="${this.form.app}"\n  amount="${this.form.amount}"\n></nim-checkout>`;
        }
      },
      methods: {
        updateColor: function (color) {
          this.form.color = color;
        },
        updateRecipient: function (event) {
          this.form.recipient = event.target.value;
        },
        updateAmount: function (event) {
          this.form.amount = event.target.value;
        },
        updateAppName: function (event) {
          this.form.app = event.target.value;
        }
      },
      template: `
        <div class="configurator">
          <form>
            <section>
            <label for="color">Select the color</label>
            <div class="colors">
              <button
                type="button"
                v-for="color in colors"
                :class="[color, color === form.color ? 'focused' : '']"
                @click="updateColor(color)"
              ></button>
            </div>
            </section>

            <section>
              <label for="app">Enter app or store name</label>
              <input v-on:input="updateAppName" :value="form.app" type="text" id="app" name="app" />
            </section>

            <section>
              <label for="address">Enter NIM address</label>
              <input v-on:input="updateRecipient" :value="form.recipient" type="text" id="address" name="address" placeholder="NQ..."/>
            </section>

            <section>
              <label for="amount">Enter amount in Luna (1 NIM = 100000 Luna)</label>
              <input v-on:input="updateAmount" :value="form.amount" type="number" id="amount" name="amount"/>
            </section>
          </form>

          <section>
            <h3>Preview</h3>
            <div class="preview">
              <nim-checkout :theme="form.color" :value="form.amount" :recipient="form.recipient" app="Nim Widgets"></nim-checkout>
            </div>
          </section>

          <section class="code">
            <label>Get the code</label>
            <div class="code-wrapper">
              <code>{{code}}</code>
            </div>

          </section>

        </div>
      `
    });
  </script>
</body>

</html>
